<div class="dlvr-login-wrapper">
    <div class="row">
        <div class="col s12">
            <div class="dlvr-login-header">
                <div class="row">
                    <div class="col s12">
                        <div class="dlvr-logo-wrapper">
                            <img src="../../../../assets/images/logo.png" alt="logo" />
                        </div>
                    </div>
                    <div class="col s12">
                        <h2>{{ otpEntered ? 'Reset Password' : 'Forgot Password' }}</h2>
                    </div>
                </div>
            </div>
            <form [formGroup]="forgetPasswordForm">
                <div class="dlvr-input-text-options input-field" *ngIf="!otpEntered">
                    <img src="../../../../assets/images/user_icon.png" alt="user_icon" class="prefix">
                    <input type="text" class="dlvr-uikit-input dlvr-uikit-input-grey" placeholder="Email" formControlName="email">
                    <!-- <span class="dlvr-input-i"><i class="icon-phone"></i></span> -->
                </div>
                <p class="errorMessage" *ngIf="!forgetPasswordForm.get('email').valid && forgetPasswordForm.get('email').touched">Please enter Email.</p>
                <!-- <button *ngIf="!otpEntered" class="waves-effect waves-light btn btn-full-width btn-large dlvr-btn dlvr-primary-btn m-t-10"
                    type="button" (click)="onForgetPassword()" [disabled]="!forgetPasswordForm.controls['email'].valid">Submit</button> -->

                <button *ngIf="!otpEntered" class="btn-full-width dlvr-uikit-btn dlvr-uikit-btn-blue m-t-10" type="button" (click)="onForgetPassword()" [disabled]="!forgetPasswordForm.controls['email'].valid">Submit</button>

                <input type="password" class="dlvr-text-input" placeholder="Password" formControlName="password" *ngIf="otpEntered">
                <p class="errorMessage" *ngIf="!forgetPasswordForm.get('password').valid && forgetPasswordForm.get('password').touched && otpEntered">Please enter password.</p>
                <input type="password" class="dlvr-text-input" placeholder=" Confirm Password" formControlName="confirmPassword" *ngIf="otpEntered">
                <p class="errorMessage" *ngIf="forgetPasswordForm.get('confirmPassword').value != forgetPasswordForm.get('password').value  && forgetPasswordForm.get('confirmPassword').touched && otpEntered">Please enter same password as above.</p>
                <button class="btn-full-width dlvr-uikit-btn dlvr-uikit-btn-rounded dlvr-uikit-btn-blue m-t-10" *ngIf="otpEntered" type="button"  (click)="onResetPassword()" [disabled]="(forgetPasswordForm.get('confirmPassword').value != forgetPasswordForm.get('password').value) || !forgetPasswordForm.controls['password'].valid || !forgetPasswordForm.controls['confirmPassword'].valid">Confirm</button>

            </form>

            <div class="dlvr-login-footer">
                <a class="btn-floating waves-effect waves-light dlvr-uikit-btn-green center" (click)="goToLogin()">
                    <i class="material-icons">keyboard_arrow_left</i>

                </a>
                <!-- <a class="center" (click)="goToLogin()" class="pointer-cursor">
                    <i class="icon-arrow-left-circle"></i>
                    Back to Login
                </a> -->
            </div>
        </div>
    </div>
</div>

<div class="dlvr-modal dlvr-forgetPassword-modal" materialize>
    <!-- Modal -->
    <div id="modal1" class="modal bottom-sheet" materialize="modal" [materializeParams]="[{dismissible: true}]" [materializeActions]="modalActions">
        <div class="modal-footer">
            <div class="dlvr-modal-btn-wrapper">
                <input type="text" class="dlvr-text-input" placeholder="Enter OTP" [(ngModel)]="userOTP">
                <button class="dlvr-uikit-btn dlvr-uikit-btn-rounded dlvr-uikit-btn-blue" (click)="goToChangePassword()" [disabled]="userOTP == undefined || userOTP?.length == 0">Change Password</button>
            </div>
        </div>
    </div>
    <!-- Modal End-->
</div>